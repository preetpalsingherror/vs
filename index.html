<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>My Universe üåå</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@300;600&display=swap" rel="stylesheet">
    
    <style>
        /* --- RESET & CORE --- */
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

        body {
            height: 100vh;
            width: 100vw;
            background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
            font-family: 'Montserrat', sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            perspective: 1000px;
        }

        /* --- STARRY BACKGROUND --- */
        .stars { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; }
        .star { position: absolute; background: white; border-radius: 50%; opacity: 0; animation: twinkle var(--duration) ease-in-out infinite; }
        @keyframes twinkle { 0% { opacity: 0; transform: scale(0.5); } 50% { opacity: 0.8; transform: scale(1.2); } 100% { opacity: 0; transform: scale(0.5); } }

        /* --- GLASS CARDS --- */
        .card-container { position: relative; width: 90%; max-width: 400px; height: 60vh; z-index: 10; }

        .glass-card {
            position: absolute; width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1); border-top: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 30px; padding: 40px 30px;
            display: flex; flex-direction: column; justify-content: space-between; align-items: center; text-align: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            opacity: 0; transform: translateY(50px) scale(0.9); pointer-events: none;
            transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .glass-card.active { opacity: 1; transform: translateY(0) scale(1); pointer-events: all; }
        .glass-card.exited { opacity: 0; transform: translateY(-100px) scale(0.95); pointer-events: none; }

        /* --- TYPOGRAPHY --- */
        h1 { font-family: 'Great Vibes', cursive; font-size: 2.8rem; margin-bottom: 15px; color: #ff9a9e; text-shadow: 0 0 10px rgba(255, 154, 158, 0.3); line-height: 1.2; }
        p { font-size: 1.1rem; line-height: 1.6; color: rgba(255, 255, 255, 0.8); font-weight: 300; }

        /* --- BUTTONS --- */
        .next-btn {
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0));
            border: 1px solid rgba(255,255,255,0.2); color: white; padding: 15px 40px; border-radius: 50px; font-size: 1rem; cursor: pointer; transition: 0.3s; backdrop-filter: blur(4px);
        }
        .next-btn:hover { background: rgba(255,255,255,0.2); transform: translateY(-2px); }

        /* --- HOLD RING --- */
        .hold-container { position: relative; width: 100px; height: 100px; margin: auto; cursor: pointer; }
        .progress-svg { transform: rotate(-90deg); width: 100%; height: 100%; }
        .progress-circle { transition: stroke-dashoffset 0.1s; stroke: #ff9a9e; filter: drop-shadow(0 0 5px #ff9a9e); }
        .ring-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2.5rem; opacity: 0.8; animation: pulseRing 2s infinite; }
        @keyframes pulseRing { 0% { transform: translate(-50%, -50%) scale(1); } 50% { transform: translate(-50%, -50%) scale(1.1); } 100% { transform: translate(-50%, -50%) scale(1); } }

        /* --- FINAL PROPOSAL OVERLAY (BEAUTIFIED) --- */
        #proposal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            /* Romantic Background */
            background: radial-gradient(circle at center, #500020 0%, #090a0f 100%);
            z-index: 100;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: opacity 1.5s ease;
        }
        #proposal-overlay.visible { opacity: 1; pointer-events: all; }

        /* The Beating Heart Background */
        .heart-bg {
            position: absolute; width: 300px; height: 300px;
            background: radial-gradient(circle, rgba(255, 10, 84, 0.4) 0%, rgba(0,0,0,0) 70%);
            border-radius: 50%; animation: heartbeat 2s infinite ease-in-out;
            z-index: 0; pointer-events: none;
        }
        @keyframes heartbeat { 0% { transform: scale(1); opacity: 0.5; } 50% { transform: scale(1.2); opacity: 0.8; } 100% { transform: scale(1); opacity: 0.5; } }

        /* The Text */
        .big-question {
            font-family: 'Great Vibes', cursive;
            font-size: 4rem;
            text-align: center;
            margin-bottom: 60px;
            z-index: 2;
            /* Gold Gradient Text */
            background: linear-gradient(to bottom, #ffe29f, #ffa99f, #ff719a);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 20px rgba(255, 10, 84, 0.6));
            padding: 0 20px;
            line-height: 1.2;
        }

        .btn-group { position: relative; width: 100%; height: 120px; display: flex; justify-content: center; align-items: center; z-index: 10; }

        /* YES Button (Jewel Style) */
        .yes-btn {
            background: linear-gradient(135deg, #ff0a54, #ff477e);
            color: white; padding: 20px 60px;
            border-radius: 50px; text-decoration: none; font-weight: bold; font-size: 1.5rem;
            box-shadow: 0 0 40px rgba(255, 10, 84, 0.6), inset 0 0 10px rgba(255,255,255,0.4);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid rgba(255,255,255,0.2); cursor: pointer;
        }
        .yes-btn:active { transform: scale(0.95); }

        .no-btn {
            position: absolute;
            background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); color: white;
            padding: 12px 30px; border-radius: 50px; font-size: 1rem;
            cursor: pointer; transition: 0.2s; backdrop-filter: blur(5px);
        }

        /* Toast */
        #toast {
            position: absolute; top: 15%;
            background: rgba(255,255,255,0.95); color: #d90429;
            padding: 12px 30px; border-radius: 30px;
            font-weight: bold; font-size: 1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            opacity: 0; transform: translateY(-20px);
            transition: all 0.3s; pointer-events: none; z-index: 20;
        }
        #toast.show { opacity: 1; transform: translateY(0); }
        
        /* Floating Petals */
        .petal { position: absolute; background: rgba(255, 10, 84, 0.7); border-radius: 100% 0 100% 0; animation: fall 5s linear infinite; }
        @keyframes fall { 0% { opacity: 0; transform: translateY(0) rotate(0deg); } 20% { opacity: 1; } 100% { opacity: 0; transform: translateY(-100px) rotate(360deg); } }

    </style>
</head>
<body>

    <div class="stars" id="stars"></div>

    <div class="card-container">
        
        <div class="glass-card active" id="card-1">
            <h1>Hey Beautiful...</h1>
            <p>I wanted to create something special for you today.</p>
            <p>Because you are the most special person in my universe.</p>
            <button class="next-btn" onclick="nextCard(1)">What is it? ‚ûú</button>
        </div>

        <div class="glass-card" id="card-2">
            <h1>A Fact</h1>
            <p>They say there are 8 billion people in the world.</p>
            <br>
            <p>But my heart only beats faster for one of them.</p>
            <button class="next-btn" onclick="nextCard(2)">Who? ‚ûú</button>
        </div>

        <div class="glass-card" id="card-3">
            <h1>You.</h1>
            <p>You are my laughter, my peace, and my home.</p>
            <p>I don't just want you for today...</p>
            <button class="next-btn" onclick="nextCard(3)">Continue ‚ûú</button>
        </div>

        <div class="glass-card" id="card-4">
            <h1>Unlock My Heart</h1>
            <p style="margin-bottom: 30px;">Hold the ring to reveal the question I've been waiting to ask.</p>
            
            <div class="hold-container" id="hold-btn" 
                 onmousedown="startHold()" onmouseup="endHold()" 
                 ontouchstart="startHold()" ontouchend="endHold()">
                
                <svg class="progress-svg">
                    <circle stroke="rgba(255,255,255,0.1)" stroke-width="4" fill="transparent" r="45" cx="50" cy="50"></circle>
                    <circle class="progress-circle" stroke-width="4" fill="transparent" r="45" cx="50" cy="50" stroke-dasharray="283" stroke-dashoffset="283"></circle>
                </svg>
                <div class="ring-icon">üíç</div>
            </div>
        </div>

    </div>

    <div id="proposal-overlay">
        <div class="heart-bg"></div> <div id="toast">You think I'm not good? ü•∫</div>
        
        <div class="big-question">Will You Be<br>Mine Forever?</div>
        
        <div class="btn-group">
            <button class="yes-btn" id="yesBtn" onclick="celebrate()">YES! ‚ù§Ô∏è</button>
            <button class="no-btn" id="noBtn">No</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script>
        // --- CONFIG ---
        const yourPhoneNumber = "917795253497"; 

        // 1. GENERATE STARS
        const starsContainer = document.getElementById('stars');
        for(let i=0; i<100; i++) {
            const star = document.createElement('div');
            star.classList.add('star');
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            const size = Math.random() * 3 + 1 + 'px';
            star.style.width = size;
            star.style.height = size;
            star.style.setProperty('--duration', Math.random() * 3 + 2 + 's');
            starsContainer.appendChild(star);
        }

        // 2. CARD NAVIGATION
        function nextCard(current) {
            document.getElementById(`card-${current}`).classList.remove('active');
            document.getElementById(`card-${current}`).classList.add('exited');
            const next = current + 1;
            const nextEl = document.getElementById(`card-${next}`);
            if(nextEl) nextEl.classList.add('active');
        }

        // 3. HOLD LOGIC
        const circle = document.querySelector('.progress-circle');
        const radius = circle.r.baseVal.value;
        const circumference = radius * 2 * Math.PI;
        let progress = 0;
        let interval;
        let isHolding = false;

        circle.style.strokeDasharray = `${circumference} ${circumference}`;
        circle.style.strokeDashoffset = circumference;

        function setProgress(percent) {
            const offset = circumference - (percent / 100) * circumference;
            circle.style.strokeDashoffset = offset;
        }

        function startHold() {
            isHolding = true;
            interval = setInterval(() => {
                if (!isHolding) return;
                progress += 2;
                setProgress(progress);
                if (progress >= 100) {
                    clearInterval(interval);
                    triggerProposal();
                }
            }, 30);
        }

        function endHold() {
            isHolding = false;
            clearInterval(interval);
            progress = 0;
            setProgress(0);
        }

        function triggerProposal() {
            document.getElementById('card-4').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('proposal-overlay').classList.add('visible');
                createPetals(); // Start petals
                fireConfetti();
            }, 500);
        }

        // 4. THE NO BUTTON GAME
        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yesBtn');
        const toast = document.getElementById('toast');
        
        let noScale = 1;
        let yesScale = 1;

        const complaints = [
            "You think I'm not good? ü•∫",
            "Hey! Wrong button! üò§",
            "Are you sure? üíî",
            "Don't break my heart! üôà",
            "Nice try! üòà",
            "Click the BIG one! üëâ",
            "I'm gonna cry... üò≠"
        ];

        function moveButton() {
            noScale -= 0.1;
            if(noScale < 0) noScale = 0;
            noBtn.style.transform = `scale(${noScale})`;

            yesScale += 0.2;
            yesBtn.style.transform = `scale(${yesScale})`;

            const w = window.innerWidth;
            const h = window.innerHeight;
            const newX = (Math.random() - 0.5) * (w - 150);
            const newY = (Math.random() - 0.5) * (h - 150);
            
            noBtn.style.position = 'absolute';
            noBtn.style.left = '50%';
            noBtn.style.top = '50%';
            noBtn.style.marginLeft = newX + 'px';
            noBtn.style.marginTop = newY + 'px';

            const text = complaints[Math.floor(Math.random() * complaints.length)];
            toast.innerText = text;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        noBtn.addEventListener('touchstart', (e) => { e.preventDefault(); moveButton(); });
        noBtn.addEventListener('mouseover', moveButton);

        // 5. VISUALS
        function createPetals() {
            const container = document.getElementById('proposal-overlay');
            setInterval(() => {
                const petal = document.createElement('div');
                petal.classList.add('petal');
                petal.style.left = Math.random() * 100 + '%';
                petal.style.bottom = '-20px'; // Start from bottom
                const size = Math.random() * 10 + 5 + 'px';
                petal.style.width = size;
                petal.style.height = size;
                container.appendChild(petal);
                
                // Animate up
                let pos = -20;
                let rotate = 0;
                const interval = setInterval(() => {
                    pos += 2;
                    rotate += 2;
                    petal.style.bottom = pos + 'px';
                    petal.style.transform = `rotate(${rotate}deg)`;
                    if(pos > window.innerHeight) {
                        clearInterval(interval);
                        petal.remove();
                    }
                }, 20);
            }, 300);
        }

        function fireConfetti() {
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 }, colors: ['#ff0a54', '#ff477e', '#ffd700'] });
        }

        function celebrate() {
            const msg = "Happy Propose Day! üíç I said YES! I want to be yours forever. ‚ù§Ô∏è";
            window.location.href = `https://wa.me/${yourPhoneNumber}?text=${encodeURIComponent(msg)}`;
        }
    </script>
</body>
</html>
